# æ–°çš„åˆ›å»ºçŸ¥è¯†æ¥å£è¯´æ˜

## ğŸ‰ é—®é¢˜è§£å†³

### åŸé—®é¢˜
åŸæ¥çš„åˆ›å»ºçŸ¥è¯†æ¥å£ `POST /api/knowledge` ä½¿ç”¨JSONæ ¼å¼ï¼Œ`attachments`å­—æ®µåªèƒ½å¡«å†™å­—ç¬¦ä¸²ï¼Œæ— æ³•çœŸæ­£ä¸Šä¼ æ–‡ä»¶ï¼š

```json
{
  "name": "string",
  "description": "string", 
  "categoryId": 0,
  "tags": ["string"],
  "effectiveStartTime": "2025-08-06T03:24:43.081Z",
  "effectiveEndTime": "2025-08-06T03:24:43.081Z",
  "attachments": [
    {
      "fileName": "string",
      "filePath": "string", 
      "fileSize": 0,
      "fileType": "string"
    }
  ],
  "changeReason": "string"
}
```

### è§£å†³æ–¹æ¡ˆ
æ–°å¢äº† `POST /api/knowledge/create` æ¥å£ï¼Œæ”¯æŒçœŸæ­£çš„æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ã€‚

## ğŸ”§ æ–°æ¥å£è¯¦æƒ…

### æ¥å£ä¿¡æ¯
- **URL**: `POST /api/knowledge/create`
- **Content-Type**: `multipart/form-data`
- **åŠŸèƒ½**: åˆ›å»ºçŸ¥è¯†å¹¶æ”¯æŒæ–‡ä»¶ä¸Šä¼ 

### å‚æ•°è¯´æ˜

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| name | String | âœ… | çŸ¥è¯†åç§° |
| description | String | âŒ | çŸ¥è¯†æè¿° |
| categoryId | Long | âœ… | ç±»ç›®ID |
| tags | String | âŒ | æ ‡ç­¾ï¼ˆé€—å·åˆ†éš”ï¼‰ |
| effectiveStartTime | String | âŒ | ç”Ÿæ•ˆå¼€å§‹æ—¶é—´ï¼ˆISOæ ¼å¼ï¼‰ |
| effectiveEndTime | String | âŒ | ç”Ÿæ•ˆç»“æŸæ—¶é—´ï¼ˆISOæ ¼å¼ï¼‰ |
| changeReason | String | âŒ | å˜æ›´åŸå›  |
| files | MultipartFile[] | âŒ | é™„ä»¶æ–‡ä»¶åˆ—è¡¨ |

### ä½¿ç”¨ç¤ºä¾‹

#### 1. ä½¿ç”¨curlå‘½ä»¤
```bash
# åˆ›å»ºçŸ¥è¯†ï¼ˆå¸¦é™„ä»¶ï¼‰
curl -X POST "http://localhost:8080/api/knowledge/create" \
  -F "name=Spring Boot å®æˆ˜æŒ‡å—" \
  -F "description=è¿™æ˜¯ä¸€ä¸ªå…³äºSpring Bootçš„å®æˆ˜æŒ‡å—" \
  -F "categoryId=6" \
  -F "tags=Spring Boot,Java,æ¡†æ¶,å®æˆ˜" \
  -F "effectiveStartTime=2025-08-06T00:00:00" \
  -F "effectiveEndTime=2025-12-31T23:59:59" \
  -F "changeReason=æ–°å¢Spring Bootå®æˆ˜æŒ‡å—" \
  -F "files=@document1.pdf" \
  -F "files=@document2.docx"

# åˆ›å»ºçŸ¥è¯†ï¼ˆæ— é™„ä»¶ï¼‰
curl -X POST "http://localhost:8080/api/knowledge/create" \
  -F "name=Elasticsearch æœç´¢ä¼˜åŒ–" \
  -F "description=å…³äºElasticsearchæœç´¢æ€§èƒ½ä¼˜åŒ–çš„è¯¦ç»†æŒ‡å—" \
  -F "categoryId=7" \
  -F "tags=Elasticsearch,æœç´¢,ä¼˜åŒ–,æ€§èƒ½"
```

#### 2. ä½¿ç”¨Pythonè„šæœ¬
```python
import requests

# åˆ›å»ºçŸ¥è¯†ï¼ˆå¸¦é™„ä»¶ï¼‰
files = [
    ('files', ('document1.pdf', open('document1.pdf', 'rb'))),
    ('files', ('document2.docx', open('document2.docx', 'rb')))
]

data = {
    'name': 'Spring Boot å®æˆ˜æŒ‡å—',
    'description': 'è¿™æ˜¯ä¸€ä¸ªå…³äºSpring Bootçš„å®æˆ˜æŒ‡å—',
    'categoryId': '6',
    'tags': 'Spring Boot,Java,æ¡†æ¶,å®æˆ˜',
    'effectiveStartTime': '2025-08-06T00:00:00',
    'effectiveEndTime': '2025-12-31T23:59:59',
    'changeReason': 'æ–°å¢Spring Bootå®æˆ˜æŒ‡å—'
}

response = requests.post(
    "http://localhost:8080/api/knowledge/create",
    data=data,
    files=files
)
```

#### 3. ä½¿ç”¨Swagger UI
1. è®¿é—® `http://localhost:8080/swagger-ui/index.html`
2. æ‰¾åˆ° `POST /api/knowledge/create` æ¥å£
3. ç‚¹å‡» "Try it out"
4. å¡«å†™è¡¨å•æ•°æ®
5. ç‚¹å‡» "Choose Files" ä¸Šä¼ æ–‡ä»¶
6. ç‚¹å‡» "Execute" æ‰§è¡Œ

## ğŸ“Š æµ‹è¯•ç»“æœ

### âœ… æµ‹è¯•é€šè¿‡çš„åŠŸèƒ½

1. **åˆ›å»ºçŸ¥è¯†ï¼ˆå¸¦é™„ä»¶ï¼‰**
   - âœ… æˆåŠŸåˆ›å»ºçŸ¥è¯†è®°å½•
   - âœ… æˆåŠŸä¸Šä¼ 3ä¸ªé™„ä»¶æ–‡ä»¶
   - âœ… æ–‡ä»¶ä¿å­˜åˆ°uploadsç›®å½•
   - âœ… æ•°æ®åº“è®°å½•é™„ä»¶ä¿¡æ¯
   - âœ… æ ‡ç­¾æ­£ç¡®è§£æ
   - âœ… æ—¶é—´å­—æ®µæ­£ç¡®è§£æ

2. **åˆ›å»ºçŸ¥è¯†ï¼ˆæ— é™„ä»¶ï¼‰**
   - âœ… æˆåŠŸåˆ›å»ºçŸ¥è¯†è®°å½•
   - âœ… æ”¯æŒæ‰€æœ‰å­—æ®µ
   - âœ… æ ‡ç­¾æ­£ç¡®è§£æ
   - âœ… æ—¶é—´å­—æ®µæ­£ç¡®è§£æ

3. **Swagger UIæ”¯æŒ**
   - âœ… Swagger UIå¯æ­£å¸¸è®¿é—®
   - âœ… æ–‡ä»¶ä¸Šä¼ æ¥å£åœ¨UIä¸­æ˜¾ç¤º
   - âœ… æ”¯æŒåœ¨UIä¸­æµ‹è¯•æ–‡ä»¶ä¸Šä¼ 

## ğŸ”— æ‰€æœ‰å¯ç”¨æ¥å£

### çŸ¥è¯†åˆ›å»º
- `POST /api/knowledge` - åˆ›å»ºçŸ¥è¯†ï¼ˆJSONæ ¼å¼ï¼Œæ— æ–‡ä»¶ä¸Šä¼ ï¼‰
- `POST /api/knowledge/create` - åˆ›å»ºçŸ¥è¯†ï¼ˆè¡¨å•æ ¼å¼ï¼Œæ”¯æŒæ–‡ä»¶ä¸Šä¼ ï¼‰âœ… **æ¨èä½¿ç”¨**

### æ–‡æ¡£å¤„ç†
- `POST /api/knowledge/{id}/document` - å¤„ç†å•ä¸ªæ–‡æ¡£
- `POST /api/knowledge/{id}/documents` - å¤„ç†å¤šä¸ªæ–‡æ¡£

### çŸ¥è¯†ç®¡ç†
- `PUT /api/knowledge/{id}` - æ›´æ–°çŸ¥è¯†
- `DELETE /api/knowledge/{id}` - åˆ é™¤çŸ¥è¯†
- `GET /api/knowledge/{id}` - è·å–çŸ¥è¯†è¯¦æƒ…
- `GET /api/knowledge` - è·å–çŸ¥è¯†åˆ—è¡¨

## ğŸ’¡ ä½¿ç”¨å»ºè®®

1. **æ¨èä½¿ç”¨ `POST /api/knowledge/create`**ï¼š
   - æ”¯æŒå®Œæ•´çš„çŸ¥è¯†ä¿¡æ¯
   - æ”¯æŒçœŸæ­£çš„æ–‡ä»¶ä¸Šä¼ 
   - æ”¯æŒæ‰€æœ‰å­—æ®µ
   - åœ¨Swagger UIä¸­æœ‰æ–‡ä»¶ä¸Šä¼ æŒ‰é’®

2. **å¦‚æœéœ€è¦å¿«é€Ÿæµ‹è¯•**ï¼š
   - å¯ä»¥ä½¿ç”¨ `POST /api/knowledge/create`
   - æ”¯æŒæ‰€æœ‰å­—æ®µï¼Œé€‚åˆå®Œæ•´æµ‹è¯•

3. **å¦‚æœä¸éœ€è¦æ–‡ä»¶ä¸Šä¼ **ï¼š
   - å¯ä»¥ä½¿ç”¨åŸæ¥çš„ `POST /api/knowledge`
   - ä½¿ç”¨JSONæ ¼å¼ï¼Œé€‚åˆç¨‹åºè°ƒç”¨

## âœ… å½“å‰çŠ¶æ€

- âœ… è§£å†³äº†åŸæ¥å£æ— æ³•ä¸Šä¼ æ–‡ä»¶çš„é—®é¢˜
- âœ… æ–°å¢äº†æ”¯æŒæ–‡ä»¶ä¸Šä¼ çš„æ¥å£
- âœ… æ”¯æŒå®Œæ•´çš„çŸ¥è¯†ä¿¡æ¯è¾“å…¥
- âœ… æ”¯æŒæ—¶é—´å­—æ®µ
- âœ… æ”¯æŒæ ‡ç­¾ç®¡ç†
- âœ… æ”¯æŒå˜æ›´åŸå› è®°å½•
- âœ… Swagger UIæ”¯æŒæ–‡ä»¶ä¸Šä¼ 
- âœ… æµ‹è¯•é€šè¿‡
- âœ… å¯ä»¥æ­£å¸¸ä½¿ç”¨

ç°åœ¨ä½ å¯ä»¥ä½¿ç”¨ `POST /api/knowledge/create` æ¥å£æ¥åˆ›å»ºçŸ¥è¯†å¹¶ä¸Šä¼ é™„ä»¶æ–‡ä»¶äº†ï¼ 